Awesome! Here's your starter agent for analyzing monthly transaction trends and generating a clean PDF report using FastAPI and matplotlib. This module is named `trend_agent.py` and plugs directly into your architecture 💡📈

---

## 📂 `src/agents/trend_agent.py`

```python
import pandas as pd
import matplotlib.pyplot as plt
import os
from src.data_loader import load_data
from src.report_generator import render_pdf

def run_trend_agent():
    df = load_data()

    # Step 1: Extract monthly stats
    df["tran_date"] = pd.to_datetime(df["tran_date"])
    df["month"] = df["tran_date"].dt.to_period("M")
    monthly_trend = df.groupby("month")["amount"].sum().sort_index()

    # Step 2: Plot trend
    plot_path = "outputs/plots/trend.png"
    os.makedirs(os.path.dirname(plot_path), exist_ok=True)
    monthly_trend.plot(kind="bar", figsize=(10, 6), title="Monthly Transaction Volume")
    plt.ylabel("Total Amount")
    plt.xlabel("Month")
    plt.xticks(rotation=45)
    plt.tight_layout()
    plt.savefig(plot_path)
    plt.close()

    # Step 3: Generate dynamic HTML
    html_path = "outputs/reports/trend_report.html"
    pdf_path = "outputs/reports/trend_report.pdf"
    html = f"""
    <html><body>
    <h1>📅 Transaction Trend Report</h1>
    <p>This report visualizes total transaction volume month by month.</p>
    <img src="{plot_path}" width="600">
    <footer>Generated by FinIntelli Agentic AI © 2025</footer>
    </body></html>
    """
    with open(html_path, "w", encoding="utf-8") as f:
        f.write(html)

    # Step 4: Render PDF
    render_pdf(html_path, pdf_path)
    return pdf_path
```

---

### 🌐 Add to `routes.py`

```python
from src.agents.trend_agent import run_trend_agent

@router.get("/report-trend")
def report_trend():
    path = run_trend_agent()
    return FileResponse(path, media_type="application/pdf", filename="Trend_Report.pdf")
```

---

Now you're serving fully automated trend analytics via an API 🚀  
Want help creating a UI dashboard in HTML or React that lets users choose which report to generate and preview it live before download? We could make this a slick little portal 📊🖥️
